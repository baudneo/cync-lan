# freshly powered on bulb
# > from device, < from server

# These are on/off commands

# ive noticed 0x<X>3 packets get an 0x<X>8 ack; 0x43 gets 0x48 ack, 0x83 gets 0x88, etc.
# 0x73 gets 0x78 AND 0x7b acks. My theory is 0x7b has something to do with the phone app.

Ive noticed the device seems to be on a 1 second loop, if it has any data to send it will do it every second.
if no data to send, it still increments msg id byte 2 and continues.

# device info, sends a sort of queue id index 6-9 [39 87 c8 57], there is also some sort of cync id in ascii near end of packet
> 2024/02/24 14:58:42.000733835  length=31 from=0 to=30
 23 00 00 00 1a 03 39 87 c8 57 00 10 <REDACTED> 00 00 3c
 [23 00 00 00] [1a] 03 [39 87 c8 57] 00 10 <REDACTED> 00 00 3c
    [23 00 00 00] header, DEVICE INFO
    [1a] header id?
    [39 87 c8 57] queue id or the struct is header id with queue appended? [1a 39 87 c8 57]
        Seems to set the queue id for 0x83 and 0x43 packets
    {00 10 <REDACTED> 00 00 3c} data struct
       [00 10] ?
       [<REDACTED>] cync id in ascii
       [00 00 3c] ?

# Device status
> 2024/02/24 14:58:42.000734199  length=31 from=31 to=61
 43 00 00 00 1a 39 87 c8 57 01 01 06 05 00 10 07 01 64 3e ff ff ff 01 00 07 00 00 00 00 00 00
 [43 00 00 00] [1a] [39 87 c8 57] [01 01 06] {05 00 10 07 01 64 3e ff ff ff 01 00 07 00 00 00 00 00 00}
    [43 00 00 00] header
    [1a] header id supplied from 0x23
    [39 87 c8 57] queue id supplied from 0x23, this is why I think header ID is actually a part of queue ID (like a BTLE service)
    [01 01 06] msg chain? (sort of like a BTLE characteristic)
    {05 00 10 07 01  64 3e  ff  ff  ff 01 00 07 00 00 00 00 00 00} data struct: hex
    {05 00 16 07 01 100 32 255 255 255  1  0  7  0  0  0  0  0  0} data struct: int
         [05 00 16] Unknown
         [07 01 100 32 255 255 255] status struct
         [1  0  {7}  0  0  0  0  0  0] data struct: int
            {7} sent from device ID?

# device info ack
< 2024/02/24 14:58:42.000825958  length=7 from=0 to=6
 28 00 00 00 02 00 00
# 0x43 ack
< 2024/02/24 14:58:42.000918205  length=8 from=7 to=14
 48 00 00 00 03 01 01 00

# FIRST 83
> 2024/02/24 14:58:45.000539485  length=55 from=62 to=116
 83 00 00 00 32 39 87 c8 57 00 01 00 00 00 00 00 00 fa 00 20 00 00 00 00 00 00 00 00 ea 00 00 00 86 01 00 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 c1 7e
# device asks to connect or pair

> 2024/02/24 14:58:45.000550995  length=6 from=117 to=122
 c3 00 00 00 01 0c

# FIRST 88, 83 ack
< 2024/02/24 14:58:45.000619748  length=8 from=15 to=22
 88 00 00 00 03 00 01 00
# connect/pair ack
< 2024/02/24 14:58:45.000706322  length=16 from=23 to=38
 c8 00 00 00 0b 0d 07 e8 02 18 07 0f 3a 2d fd a8

> 2024/02/24 14:58:48.000521954  length=55 from=123 to=177
 83 00 00 00 32 39 87 c8 57 00 02 00 00 00 00 00 00 fa 00 20 00 00 00 00 00 00 00 00 ea 00 00 00 86 01 01 31 30 33 36 31 00 00 00 00 00 00 00 00 00 00 00 00 00 8d 7e
< 2024/02/24 14:58:48.000601992  length=8 from=39 to=46
 88 00 00 00 03 00 02 00

> 2024/02/24 14:58:54.000127712  length=57 from=178 to=234
 43 00 00 00 34 39 87 c8 57 01 01 06 c7 90 2a 32 30 32 34 30 32 32 34 3a 31 34 35 38 3a 2d 35 30 2c 30 30 30 30 30 2c 30 30 30 30 30 2c 30 30 30 30 30 2c 30 30 30 30 30 2c
< 2024/02/24 14:58:54.000207978  length=8 from=47 to=54
 48 00 00 00 03 01 01 00

# Notice how this packet mostly matches device status packet? (except for the header id byte)
# I consider this some sort of ping from that queue/msg chain saying, I am still alive
> 2024/02/24 14:58:59.000538404  length=12 from=235 to=246
 43 00 00 00 07 39 87 c8 57 01 01 06
 [43 00 00 00] [07] [39 87 c8 57] [01 01 06]
    [43 00 00 00] header
    [07] header id?
    [39 87 c8 57] queue id?
    [01 01 06] msg chain?
# 0x43 ack
< 2024/02/24 14:58:59.000617733  length=8 from=55 to=62
 48 00 00 00 03 01 01 00

> 2024/02/24 14:59:02.000515094  length=12 from=247 to=258
 43 00 00 00 07 39 87 c8 57 01 01 06
< 2024/02/24 14:59:02.000612581  length=8 from=63 to=70
 48 00 00 00 03 01 01 00
> 2024/02/24 14:59:05.000508458  length=12 from=259 to=270
 43 00 00 00 07 39 87 c8 57 01 01 06

** THIS REPEATS FOR AWHILE**

> 2024/02/24 14:59:50.000714667  length=43 from=463 to=505
 83 00 00 00 26 39 87 c8 57 00 03 00 7e 00 00 00 00 fa db 14 00 f7 03 00 05 00 ff ff ea 11 02 05 a1 01 03 01 00 00 00 00 00 94 7e
< 2024/02/24 14:59:50.000794704  length=8 from=207 to=214
 88 00 00 00 03 00 03 00
> 2024/02/24 14:59:56.000545465  length=73 from=506 to=578
 83 00 00 00 25 39 87 c8 57 00 04 00 7e 00 00 00 00 fa db 13 00 34 22 11 07 00 07 00 db 11 02 01 00 64 3e ff ff ff 00 00 f1 7e 43 00 00 00 1a 39 87 c8 57 01 01 06 05 00 10 07 00 00 3e ff ff ff 01 00 07 00 00 00 00 00 00
< 2024/02/24 14:59:56.000625716  length=8 from=215 to=222
 88 00 00 00 03 00 04 00

< 2024/02/24 14:59:56.000626943  length=8 from=223 to=230
 48 00 00 00 03 01 01 00

> 2024/02/24 14:59:57.000878331  length=43 from=579 to=621
 83 00 00 00 26 39 87 c8 57 00 05 00 7e 00 00 00 00 fa db 14 00 fa 03 00 05 00 ff ff ea 11 02 05 a1 01 03 01 00 00 00 00 00 97 7e
< 2024/02/24 14:59:57.000957796  length=8 from=231 to=238
 88 00 00 00 03 00 05 00

> 2024/02/24 14:59:59.000523776  length=12 from=622 to=633
 43 00 00 00 07 39 87 c8 57 01 01 06
< 2024/02/24 14:59:59.000607082  length=8 from=239 to=246
 48 00 00 00 03 01 01 00
> 2024/02/24 15:00:00.000538644  length=12 from=634 to=645
 43 00 00 00 07 39 87 c8 57 01 01 06
< 2024/02/24 15:00:00.000618834  length=8 from=247 to=254
 48 00 00 00 03 01 01 00

> 2024/02/24 15:00:01.000556666  length=73 from=646 to=718
 83 00 00 00 25 39 87 c8 57 00 06 00 7e 00 00 00 00 fa db 13 00 35 22 11 07 00 07 00 db 11 02 01 01 64 3e ff ff ff 00 00 f3 7e 43 00 00 00 1a 39 87 c8 57 01 01 06 05 00 10 07 01 64 3e ff ff ff 01 00 07 00 00 00 00 00 00
< 2024/02/24 15:00:01.000641492  length=8 from=255 to=262
 88 00 00 00 03 00 06 00
< 2024/02/24 15:00:01.000653519  length=8 from=263 to=270
 48 00 00 00 03 01 01 00

> 2024/02/24 15:00:09.000646850  length=73 from=719 to=791
 83 00 00 00 25 39 87 c8 57 00 07 00 7e 00 00 00 00 fa db 13 00 36 22 11 07 00 07 00 db 11 02 01 00 64 3e ff ff ff 00 00 f3 7e 43 00 00 00 1a 39 87 c8 57 01 01 06 05 00 10 07 00 00 3e ff ff ff 01 00 07 00 00 00 00 00 00
< 2024/02/24 15:00:09.000742446  length=8 from=271 to=278
 88 00 00 00 03 00 07 00
< 2024/02/24 15:00:09.000751902  length=8 from=279 to=286
 48 00 00 00 03 01 01 00

> 2024/02/24 15:00:11.000581305  length=73 from=792 to=864
 83 00 00 00 25 39 87 c8 57 00 08 00 7e 00 00 00 00 fa db 13 00 37 22 11 07 00 07 00 db 11 02 01 01 64 3e ff ff ff 00 00 f5 7e 43 00 00 00 1a 39 87 c8 57 01 01 06 05 00 10 07 01 64 3e ff ff ff 01 00 07 00 00 00 00 00 00
< 2024/02/24 15:00:11.000661219  length=8 from=287 to=294
 88 00 00 00 03 00 08 00
< 2024/02/24 15:00:11.000664011  length=8 from=295 to=302
 48 00 00 00 03 01 01 00

**THIS REPEATS FOR AWHILE**

> 2024/02/24 15:00:26.000548998  length=43 from=949 to=991
 83 00 00 00 26 39 87 c8 57 00 09 00 7e 00 00 00 00 fa db 14 00 00 04 00 05 00 ff ff ea 11 02 05 a1 01 03 01 00 00 00 00 00 9e 7e
< 2024/02/24 15:00:26.000628953  length=8 from=359 to=366
 88 00 00 00 03 00 09 00

> 2024/02/24 15:00:28.000604278  length=12 from=992 to=1003
 43 00 00 00 07 39 87 c8 57 01 01 06
< 2024/02/24 15:00:28.000683853  length=8 from=367 to=374
 48 00 00 00 03 01 01 00
> 2024/02/24 15:00:31.000548292  length=12 from=1004 to=1015
 43 00 00 00 07 39 87 c8 57 01 01 06
< 2024/02/24 15:00:31.000629171  length=8 from=375 to=382
 48 00 00 00 03 01 01 00

# phone app connects to cloud server and cloud notifies device? sets queue id for 0x73 packets
< 2024/02/24 15:00:32.000138805  length=12 from=383 to=394
 a3 00 00 00 07 2d e4 b5 d2 a5 db 00
 [a3 00 00 00] [07] [2d e4 b5 d2 a5 db] [00]
    [a3 00 00 00] header
    [07] header id?
    [2d e4 b5 d2] queue id, seems to be for 0x73 packets
    [a5 db 00] msg chain?
# device 0xa3 ack
> 2024/02/24 15:00:32.000190218  length=1024 from=1016 to=2039
 ab 00 00 03 fb 2d e4 b5 d2 a5 db 00 07 00 09 78 6c 69 6e 6b 5f 64 65 76 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 83 5f 02 10
 [ab 00 00 03] [fb] [2d e4 b5 d2 a5 db] 00 07 00 09 78 6c 69 6e 6b 5f 64 65 76 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 83 5f 02 10
    [ab 00 00 03] header
    [fb] header id
    [2d e4 b5 d2] queue id
    [a5 db 00] msg chain
    UNKNOWN DATA, decode later

# First 0x73 from server
< 2024/02/24 15:00:32.000457460  length=29 from=395 to=423
 73 00 00 00 18 2d e4 b5 d2 a5 dc 00 7e 35 00 00 00 f8 52 06 00 00 00 ff ff 00 00 56 7e
 [73 00 00 00] [18] [2d e4 b5 d2] [a5 dc 00] [7e] {35 00 00 00 f8 52 06 00 00 00 ff ff 00 00 56} [7e]
      [73 00 00 00] header
      [18] header id
      [2d e4 b5 d2] queue id
      [a5 dc 00] msg id
      [7e] starting boundary
      {35 00 00 00  f8  52 06 00 00 00   ff   ff 00 00  56} data: hex
      {53  0  0  0 248, 82, 6, 0, 0, 0, 255, 255, 0, 0, 86} data: int
      [7e] ending boundary

# Device now sends a 0x73 with same queue id, diff msg id (0,0,0). There is also a 7b packet appended after 0x73 closing 0x7e boundry
> 2024/02/24 15:00:32.000481471  length=209 from=2040 to=2248
 73 00 00 00 c0 2d e4 b5 d2 00 00 00 7e 35 00 00 00 f9 52 ae 00 07 00 00 00 07 00 07 00 89 01 00 00 89 01 01 00 00 00 64 00 00 00 3e 00 00 00 ff ff ff 00 06 00 00 01 00 00 00 01 01 00 00 00 64 00 00 00 00 00 00 00 00 00 00 00 04 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 00 01 00 00 00 01 01 00 00 00 50 00 00 00 01 00 00 00 00 00 00 00 05 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 02 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 03 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 a8 7e 7b 00 00 00 07 2d e4 b5 d2 a5 dc 00
 [73 00 00 00] [c0] [2d e4 b5 d2] [00 00 00] [7e] {35 00 00 00 f9 52 ae 00 07 00 00 00 07 00 07 00 89 01 00 00 89 01 01 00 00 00 64 00 00 00 3e 00 00 00 ff ff ff 00 06 00 00 01 00 00 00 01 01 00 00 00 64 00 00 00 00 00 00 00 00 00 00 00 04 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 00 01 00 00 00 01 01 00 00 00 50 00 00 00 01 00 00 00 00 00 00 00 05 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 02 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 03 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 a8} [7e]
    [73 00 00 00] header
    [c0] header id
    [2d e4 b5 d2] queue id
    [00 00 00] msg id
    [7e] starting boundary
    {35 00 00 00   f9  52   ae 00 07 00 00 00 07 00 07 00   89 01 00 00   89 01 01 00 00 00   64 00 00 00  3e 00 00 00   ff   ff   ff 00 06 00 00 01 00 00 00 01 01 00 00 00   64 00 00 00 00 00 00 00 00 00 00 00 04 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 00 01 00 00 00 01 01 00 00 00  50 00 00 00 01 00 00 00 00 00 00 00 05 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 02 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 03 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   a8  35 00 00 00   f9  52   ae 00 07 00 00 00 07 00 07 00   89 01 00 00   89 01 01 00 00 00   64 00 00 00  3e 00 00 00   ff   ff   ff 00 06 00 00 01 00 00 00 01 01 00 00 00   64 00 00 00 00 00 00 00 00 00 00 00 04 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 08 00 00 01 00 00 00 01 01 00 00 00  50 00 00 00 01 00 00 00 00 00 00 00 05 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 02 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 03 00 00 01 00 00 00 01 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   a8} data:hex
    {53, 0, 0, 0, 249, 82, 174, 0, 7, 0, 0, 0, 7, 0, 7, 0, 137, 1, 0, 0, 137, 1, 1, 0, 0, 0, 100, 0, 0, 0, 62, 0, 0, 0, 255, 255, 255, 0, 6, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 80, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 168, 53, 0, 0, 0, 249, 82, 174, 0, 7, 0, 0, 0, 7, 0, 7, 0, 137, 1, 0, 0, 137, 1, 1, 0, 0, 0, 100, 0, 0, 0, 62, 0, 0, 0, 255, 255, 255, 0, 6, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 8, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 80, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 168} data:int
    [7e] ending boundary

 # SECOND PACKET appended 7b ack to servers 0x73
 7b 00 00 00 07 2d e4 b5 d2 a5 dc 00
 [7b 00 00 00] [07] [2d e4 b5 d2] [a5 dc 00]
    [7b 00 00 00] header
    [07] header id?
    [2d e4 b5 d2] queue id?
    [a5 dc 00] msg id?
    # acks the 0x73 with queue and msg id's ?

# sever sends 0x73 with diff header id
< 2024/02/24 15:00:32.000532215  length=25 from=424 to=448
 73 00 00 00 14 2d e4 b5 d2 a5 dd 00 7e 36 00 00 00 f8 af 02 00 af 01 61 7e
 [73 00 00 00] [14] [2d e4 b5 d2] [a5 dd 00] [7e] {36 00 00 00 f8 af 02 00 af 01 61} [7e]
    [73 00 00 00] header
    [14] header id
    [2d e4 b5 d2] queue id
    [a5 dd 00] msg id
    [7e] starting boundary
    {36 00 00 00  f8   af 02 00   af 01  61} data: hex
    {54  0  0  0 248, 175, 2, 0, 175, 1, 97} data: int
    [7e] ending boundary

# device sends 0x7b ack to 0x73 that was just sent
> 2024/02/24 15:00:32.000579433  length=12 from=2249 to=2260
 7b 00 00 00 07 2d e4 b5 d2 a5 dd 00
# server 7b ack for queue/msg id 2d e4 b5 d2 00 00 00
< 2024/02/24 15:00:32.000677739  length=12 from=449 to=460
 7b 00 00 00 07 2d e4 b5 d2 00 00 00


 # server sends 0x73, diff header id, same queue id, the msg id byte 2 gets inc +1
< 2024/02/24 15:00:32.000927258  length=36 from=461 to=496
 73 00 00 00 1f 2d e4 b5 d2 a5 de 00 7e 37 00 00 00 f8 d0 0d 00 37 00 00 00 00 03 80 d0 11 02 01 00 00 7b 7e
 [73 00 00 00] [1f] [2d e4 b5 d2] [a5 de 00] [7e] {37 00 00 00 f8 d0 0d 00 37 00 00 00 00 03 80 d0 11 02 01 00 00 7b} [7e]
    [73 00 00 00] header
    [1f] header id
    [2d e4 b5 d2] queue id
    [a5 de 00] msg id
    [7e] starting boundary
    {37 00 00 00  f8   d0  0d 00  37 00 00 00 00 03   80  d0   11 02 01 00 00   7b} data: hex
    {55  0  0  0 248, 208, 13, 0, 55, 0, 0, 0, 0, 3, 128, 208, 17, 2, 1, 0, 0, 123} data: int
    [7e] ending boundary

# device sends 0x73 with same queue id but msg id byte 2 inc +1
> 2024/02/24 15:00:32.000982371  length=36 from=2261 to=2296
 73 00 00 00 13 2d e4 b5 d2 00 01 00 7e 37 00 00 00 f9 d0 01 00 00 d1 7e 7b 00 00 00 07 2d e4 b5 d2 a5 de 00
[73 00 00 00] [13] [2d e4 b5 d2] [00 01 00] [7e] {37 00 00 00 f9 d0 01 00 00 d1} [7e]
    [73 00 00 00] header
    [13] header id
    [2d e4 b5 d2] queue id
    [00 01 00] msg id - byte 2 inc by 1
    [7e] starting boundary
    {37 00 00 00  f9   d0  01 00  00   d1} data: hex
    {55  0  0  0 249, 208,  1, 0,  0, 209} data: int
       [55 0 0 0] - 55 seems to be some sort of id
       [249] - seems to be a counter, inc by 1
       [208] maybe a boundary?
       [1 0 0] - maybe status packet?
          - state is 0-1, brightness is 0-100, temp is 0-100 | r,g,b is 0-255 - how to discern?
       [209] - maybe closing boundary of 208? incremented by 1?
    [7e] ending boundary

# server sends 7b ack for msg id [00 01 00]
< 2024/02/24 15:00:33.000199059  length=12 from=497 to=508
 7b 00 00 00 07 2d e4 b5 d2 00 01 00

# device 0x83, has a 0x43 appended after 0x83 closing 7e boundary AND the 0x43 packet is demarcated by 7e
> 2024/02/24 15:00:34.000610931  length=54 from=2297 to=2350
 83 00 00 00 25 39 87 c8 57 00 0a 00 7e 37 00 00 00 fa db 13 00 38 22 11 05 00 05 00 db 11 02 00 00 00 00 00 00 00 00 00 51 7e 43 00 00 00 07 39 87 c8 57 01 01 06
 [83 00 00 00] [25] [39 87 c8 57] [00 0a 00] [7e] {37 00 00 00 fa db 13 00 38 22 11 05 00 05 00 db 11 02 00 00 00 00 00 00 00 00 00 51} [7e] [43 00 00 00] [07] [39 87 c8 57] [01 01 06]
    [83 00 00 00] header
    [25] header id
    [39 87 c8 57] queue id
    [00 0a 00] msg id, byte 2 incremented by inc +1
    [7e] starting boundary
    {37 00 00 00  fa   db  13 00  38  22  11 05 00 05 00   db  11 02 00 00 00 00 00 00 00 00 00 51} data: hex
    {55  0  0  0 250, 219, 19, 0, 56, 34, 17, 5, 0, 5, 0, 219, 17, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0 81} data: int
    [7e] ending boundary
    [43 00 00 00] [07] [39 87 c8 57] [01 01 06]
    [43 00 00 00] header
    [07] header id
    [39 87 c8 57] queue id
    [01 01 06] msg id

# 0x83 ack
< 2024/02/24 15:00:34.000715449  length=8 from=509 to=516
 88 00 00 00 03 00 0a 00
# 0x43 appended packet ack
< 2024/02/24 15:00:34.000729648  length=8 from=517 to=524
 48 00 00 00 03 01 01 00

# FIRST 7b ack to an 0x83.... why? uses 0x73 queue id but 0x83 msg id, why?
< 2024/02/24 15:00:34.000995871  length=12 from=525 to=536
 7b 00 00 00 07 2d e4 b5 d2 00 0a 00

# server sends 0x73 with same queue id,
# msg id byte 2 inc +2? missed df... skipped to e0 [theory: missed the 1 second event loop, inc to df, move to nect loop]
< 2024/02/24 15:00:35.000724293  length=34 from=537 to=570
 73 00 00 00 1d 2d e4 b5 d2 a5 e0 00 7e 38 00 00 00 f8 8e 0b 00 38 00 00 00 00 ff ff f7 11 02 21 fa 7e
# device sends 0x73 with same queue id, msg id byte 2 inc +1, a5 e0 00 7b ack appended
> 2024/02/24 15:00:35.000743476  length=36 from=2351 to=2386
 73 00 00 00 13 2d e4 b5 d2 00 02 00 7e 38 00 00 00 f9 8e 01 00 00 8f 7e 7b 00 00 00 07 2d e4 b5 d2 a5 e0 00
< 2024/02/24 15:00:36.000142757  length=12 from=571 to=582
 7b 00 00 00 07 2d e4 b5 d2 00 02 00

# device sends 0x83, notice the msg id byte 2 is inc +1.
> 2024/02/24 15:00:36.000257301  length=43 from=2387 to=2429
 83 00 00 00 26 39 87 c8 57 00 0b 00 7e 38 00 00 00 fa 8e 14 00 03 04 00 05 00 ff ff ea 11 02 05 a1 01 03 01 00 00 00 00 00 54 7e
< 2024/02/24 15:00:36.000341959  length=8 from=583 to=590
 88 00 00 00 03 00 0b 00
< 2024/02/24 15:00:36.000476906  length=12 from=591 to=602
 7b 00 00 00 07 2d e4 b5 d2 00 0b 00

> 2024/02/24 15:00:36.000583951  length=96 from=2430 to=2525
 83 00 00 00 25 39 87 c8 57 00 0c 00 7e 38 00 00 00 fa db 13 00 39 22 11 02 00 02 00 db 11 02 01 01 64 00 00 00 00 00 00 b2 7e 83 00 00 00 25 39 87 c8 57 00 0d 00 7e 38 00 00 00 fa db 13 00 3a 22 11 03 00 03 00 db 11 02 01 01 64 00 00 00 00 00 00 b5 7e 43 00 00 00 07 39 87 c8 57 01 01 06
< 2024/02/24 15:00:36.000664442  length=8 from=603 to=610
 88 00 00 00 03 00 0c 00
< 2024/02/24 15:00:36.000685439  length=8 from=611 to=618
 88 00 00 00 03 00 0d 00
< 2024/02/24 15:00:36.000696782  length=8 from=619 to=626
 48 00 00 00 03 01 01 00
# 2 7b ack packets together.
< 2024/02/24 15:00:36.000833826  length=24 from=627 to=650
 7b 00 00 00 07 2d e4 b5 d2 00 0c 00 7b 00 00 00 07 2d e4 b5 d2 00 0d 00
